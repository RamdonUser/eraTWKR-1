;--------------------------------------------------
;	マップ内이동処理拡張パッチ付属
;	명련사MAP用関数
;--------------------------------------------------

@MAP_PLACENAME_6(ARG)
#FUNCTIONS
#DIM PLACEID

IF GET_MAPID(ARG) == MAIN_MAP
	SELECTCASE ARG
		CASE 601 TO (MAXROOM - 1)
			RETURNF STR:(ARG + 8000)
		CASE 698
			RETURNF OMANEKI_PLACE()
		CASE 699
			RETURNF "스키마"
		CASE MAXROOM
			RETURNF "길 건너편"
		CASEELSE
			RETURNF "불명"
	ENDSELECT
ELSE
	RETURNF "불명"
ENDIF

@MAP_VIEWING_6(AA)
#DIMS REF AA, 0
IF !TFLAG:맵변환
	SELECTCASE CFLAG:MASTER:현재위치
		CASE 603, 610 TO 614
			TFLAG:맵변환 = 2
		CASE 605 TO 607, 615 TO 618
			TFLAG:맵변환 = 3
		CASE 608, 609, 619 TO 624
			TFLAG:맵변환 = 4
		CASEELSE
			TFLAG:맵변환 = 1
	ENDSELECT
ENDIF
CALL DRAW_INFORMATIONLINE(@"%MAPNAME:(TFLAG:맵변환)%")
PRINTFORML 
TRYCALLFORM MAP_MEIKAI_{TFLAG:맵변환}(AA)

@MAP_CAN_MOVE_6(ARG, ARG:1)
#FUNCTION
RETURNF 1



@MAP_CANNOT_WORD_6(ARG)
SELECTCASE TFLAG:이동불능메시지
ENDSELECT
